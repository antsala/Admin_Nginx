# Variables de módulo.

El módulo principal de HTTP introduce un gran conjunto de variables que podemos utilizar dentro de las directivas, aunque hay que tener en cuenta que no todas las directivas permiten el uso de estas variables (te recomendamos consultar la guía de referencia de las directivas para ver si admiten o no el uso de variables) En caso de que no mires esta información y supongas que una directiva permite usar variables (cuando realmente no lo permite) observarás 
que el nombre de la variable aparece como texto sin procesar.


Existen tres tipos diferentes de variables:

- El primer conjunto representa los valores transmitidos en los `encabezados` (headers) de la solicitud (request) del cliente. 
- El segundo conjunto corresponde a los encabezados de la `respuesta` (response) enviada al cliente. 
- Finalmente, el tercer conjunto contiene variables que son generadas por Nginx.


## Variables de encabezados del cliente.

Estas son las variables que podemos usar y cuyos valores se toman directamente de la solicitud del cliente:

- `$http_host`. Contiene en valor del encabezado `HTTP Host`, es decir, una cadena que indica el nombre de host al que el cliente está tratando de acceder.

- `$http_user_agent` Valor del encabezado `HTTP User-Agent`, una cadena que indica el navegador web del cliente. Por ejemplo:

    Los encabezados de agente de usuario (User-Agent) varían dependiendo del navegador y del dispositivo utilizado. Aquí tienes algunos ejemplos comunes de cadenas de agente de usuario para diferentes navegadores y plataformas:

    ***Google Chrome en Windows 10:***

    ```
    Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.102 Safari/537.36
    ```

2. Mozilla Firefox en macOS:
```
Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:98.0) Gecko/20100101 Firefox/98.0
```

3. Safari en iPhone con iOS:
```
Mozilla/5.0 (iPhone; CPU iPhone OS 15_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.0 Mobile/15E148 Safari/604.1
```

4. Microsoft Edge en Windows 11:
```
Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.102 Safari/537.36 Edg/98.0.1108.50
```

5. Opera en Linux:
```
Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.102 Safari/537.36 OPR/98.0.4758.102
```

Estas son solo algunas muestras típicas de cadenas de agente de usuario; hay muchas más variaciones dependiendo de la versión específica del navegador, el sistema operativo y cualquier modificación personalizada que el usuario pueda haber realizado.

$http_referer Valor del encabezado HTTP Referer, una cadena que indica la URL de la página anterior desde la que proviene el cliente.
$http_via Valor del encabezado HTTP Via, que nos informa sobre los posibles proxies utilizados por el cliente.
$http_x_forwarded_for Valor del encabezado HTTP X-Forwarded-For, que muestra la dirección IP real del cliente si este se encuentra detrás de un proxy.
$http_cookie Valor del encabezado HTTP Cookie, que contiene los datos de la cookie enviados por el cliente.
$http_... Otros encabezados adicionales enviados por el cliente pueden recuperarse utilizando $http_ seguido del nombre del encabezado en minúsculas y con guiones (-) reemplazados por guiones bajos (_).


[Vamos al siguiente contenido](./10-G.md)