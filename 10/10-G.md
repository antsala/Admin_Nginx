# El bloque location.

Ya hemos comentado que Nginx nos permite ajustar la configuración en tres niveles: en el nivel del protocolo (bloque `http`), en el nivel del servidor (bloque `server`) y en el nivel de la URI solicitada (bloque `location`). Ahora vamos a profundizar más en este último nivel.

Nginx nos permite definir bloques de ubicación (location) especificando un patrón que será comparado con la URI del documento solicitado:

```nginx
server {
    server_name website.com;
    location /admin/ {
        # La configuración que coloquemos aquí solo se aplica a
        # http://website.com/admin/
    }
}
```

En lugar de un simple nombre de carpeta, podemos insertar patrones complejos. La sintaxis general del bloque de ubicación es:

```nginx
location [=|~|~*|^~|@] patrón { ... }
```

La explicación de cada uno de los modificadores admitidos es la siguiente:

- El modificador `=`. Si usamos este modificador, la URI del documento solicitado debe ***coincidir exactamente*** con el patrón especificado. El patrón aquí está limitado a una cadena literal simple; no podemos usar una expresión regular:

    ```nginx
    server {
        server_name website.com;
        location = /abcd {
            [...]
        }
    }
    ```
    La configuración en el bloque `location`:

    - Se aplica a `http://website.com/abcd` (coincidencia exacta)
    - Puede aplicarse a `http://website.com/ABCD` (es sensible a mayúsculas y minúsculas si el sistema operativo utiliza un sistema de archivos sensible a mayúsculas y minúsculas como Linux)
    - Se aplica a `http://website.com/abcd?param1&param2` (independientemente de los argumentos de cadena de consulta)
    - No se aplica a `http://website.com/abcd/` (barra diagonal final)
    - No se aplica a `http://website.com/abcde` (caracteres adicionales después del patrón especificado)


- Sin no usamos modificador, el ***resultado es idéntico a usar `=`***. La URI del documento solicitado debe comenzar con el patrón especificado. Tampoco se puede utilizar expresiones regulares:

    ```nginx
    server {
        server_name website.com;
        location /abcd {
            [...]
        }
    }
    ```

- Modificador `~`. La URI solicitada debe ***coincidir de forma sensible a mayúsculas y minúsculas con la expresión regular especificada***:

    ```nginx
    server {
        server_name website.com;
        location ~ ^/abcd$ {
            [...]
        }
    }
    ```

    La expresión regular `^/abcd$` utilizada en este ejemplo especifica que el patrón debe comenzar `^` con `/`, seguido de `abc`, y finalizar `$` con `d`. En consecuencia, la configuración en el bloque de `location`:

    - Se aplica a `http://website.com/abcd` (coincidencia exacta)
    - No se aplica a `http://website.com/ABCD` (sensible a mayúsculas y minúsculas)
    - Se aplica a `http://website.com/abcd?param1&param2` (independientemente de los argumentos de cadena de consulta)
    - No se aplica a `http://website.com/abcd/` (barra diagonal final) debido a la expresión regular especificada
    - No se aplica a `http://website.com/abcde` (caracteres adicionales) debido a la expresión regular especificada
    
    
    
    
    Con sistemas operativos como Microsoft Windows, ~ y ~* son ambos insensibles a mayúsculas y minúsculas, ya que el sistema operativo utiliza un sistema de archivos insensible a mayúsculas y minúsculas.



[Vamos al siguiente contenido](./10-H.md)