# El módulo HTTP.

El `módulo HTTP` es el componente que contiene todos los bloques fundamentales, directivas y variables del servidor HTTP. Se habilita de forma predeterminada.

Este módulo es el más grande de todos los módulos estándar de Nginx. Proporciona una cantidad impresionante de directivas y variables y está formado por tres bloques principales: `http`, `server` y `location`.

Ya hemos usado este módulo en prácticas previas, concretamente al usar el archivo de configuración predeterminado de Nginx, que incluye una secuencia de directivas y valores, sin una organización aparente. Luego usamos el módulo de eventos, que introdujo el primer bloque, (events). Este bloque es el único espacio reservado para todas las directivas que puede usar el módulo de eventos. Ahora vamos a profundizar en esto, ya que el módulo de HTTP introduce tres nuevos bloques lógicos:

- `http`: Este bloque se inserta en la raíz del archivo de configuración. Nos permite comenzar a definir directivas y bloques de todos los módulos relacionados con el módulo HTTP de Nginx.

- `server`: Este bloque te permite declarar un sitio web. En otras palabras, un sitio web específico (identificado por uno o más nombres de host, por ejemplo, `www.miweb.com`) es reconocido por Nginx y recibe su propia configuración. Este bloque solo puede ser utilizado dentro del bloque `http`.

- `location`: Nos permite definir un grupo de configuraciones que se aplicarán a una ubicación particular en un sitio web. Este bloque puede ser utilizado dentro de un bloque `server` o anidado dentro de otro bloque de `location`.

La siguiente imagen resume la estructura de estos bloques.

![bloques Nginx](../img/202403311252.png)

Debemos tener en cuenta que en Nginx se aplica el principio de herencia de configuración. Si definimos una configuración en el nivel del bloque `http{...}` (por ejemplo, `gzip on;` para habilitar la compresión gzip), la configuración conservará su valor en los bloques de servidor y ubicación. Como puedes ver en este ejemplo:

```nginx
http {
    # Habilitar la compresión gzip a nivel del bloque http
    gzip on;
    server {
        server_name localhost;
        listen 80;
        # En esta etapa, gzip aún está establecido en on
        location /downloads/ {
            gzip off;
            # Esta directiva solo se aplica a los documentos encontrados
            # en /downloads/
        }
    }
}
```




[Vamos al siguiente contenido](./10-F.md)